表单对象
===================
表单在提交时，每一个控件都会生成一个键值对，键名是控件的name属性，键值是控件的value属性，以name=value的形式提交到服务器。提交的数据格式与method有关，如果是 GET 方法，所有键值对会以 URL 的查询字符串形式：
```
submitPage?user_name=amy&user_passwd=123
```
如果是 POST 方法，所有键值对会连接成一行，作为 HTTP 请求的数据体发送到服务器：
```
POST /handling-page HTTP/1.1
Host: example.com
Content-Type: application/x-www-form-urlencoded
Content-Length: 74

user_name=amy&user_passwd=123
```
注意，如果键值不是 URL 的合法字符（比如汉字），浏览器会自动对其进行编码。

###FormData 对象

html表单可以通过js生成FormData 对象：
```
var myForm = document.getElementById('myForm');
var formData = new FormData(myForm);
```
FormData 提供以下实例方法：

1. FormData.get(key)：获取指定键名对应的键值，参数为键名。如果有多个同名的键值对，则返回第一个键值对的键值。
2. FormData.getAll(key)：返回一个数组，表示指定键名对应的所有键值。如果有多个同名的键值对，数组会包含所有的键值。
3. FormData.set(key, value)：设置指定键名的键值，参数为键名。如果键名不存在，会添加这个键值对，否则会更新指定键名的键值。如果第二个参数是文件，还可以使用第三个参数，表示文件名。
4. FormData.delete(key)：删除一个键值对，参数为键名。
5. FormData.append(key, value)：添加一个键值对。如果键名重复，则会生成两个相同键名的键值对。如果第二个参数是文件，还可以使用第三个参数，表示文件名。
6. FormData.has(key)：返回一个布尔值，表示是否具有该键名的键值对。
7. FormData.keys()：返回一个遍历器对象，用于for...of循环遍历所有的键名。
8. FormData.values()：返回一个遍历器对象，用于for...of循环遍历所有的键值。
9. FormData.entries()：返回一个遍历器对象，用于for...of循环遍历所有的键值对。如果直接用for...of循环遍历 FormData 实例，默认就会调用这个方法。

###FileReader 对象

**FileList 对象**
用户使用表单的文件上传控件（	&lt;input type="file"	&gt;）选中文件以后，浏览器就会生成一个数组，里面是每一个用户选中的文件。
```
// HTML 代码： <input id="fileItem" type="file">
var filesArr = document.getElementById('fileItem').files;
```
filesArr就是一个 FileList 的实例。

**FileReader 对象**
FileReader 对象用于读取FileList内的文件内容。
```
var reader = new FileReader();
reader.readAsArrayBuffer(file);/reader.readAsBinaryString(file);/reader.readAsText(file)
```
FileReader 实例属性：
1. FileReader.error：读取文件时产生的错误对象
2. FileReader.readyState：整数，表示读取文件时的当前状态。一共有三种可能的状态，0表示尚未加载任何数据，1表示数据正在加载，2表示加载完成。
3. FileReader.result：读取完成后的文件内容，有可能是字符串，也可能是一个 ArrayBuffer 实例。

加载事件：

1. FileReader.onabort：abort事件（用户终止读取操作）的监听函数。
2. FileReader.onerror：error事件（读取错误）的监听函数。
3. FileReader.onload：load事件（读取操作完成）的监听函数，通常在这个函数里面使用result属性，拿到文件内容。
4. FileReader.onloadstart：loadstart事件（读取操作开始）的监听函数。
5. FileReader.onloadend：loadend事件（读取操作结束）的监听函数。
6. FileReader.onprogress：progress事件（读取操作进行中）的监听函数。
```
/* HTML 代码如下
  <input type="file" onchange="previewFile()">
  <img src="" height="200">
*/

function previewFile() {
  var preview = document.querySelector('img');
  var file    = document.querySelector('input[type=file]').files[0];
  var reader  = new FileReader();

  reader.addEventListener('load', function () {
    preview.src = reader.result;
  }, false);

  if (file) {
    reader.readAsDataURL(file);
  }
}
```