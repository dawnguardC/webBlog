插件
===

插件是一个具有 apply 方法的 class类，需要安装。
apply 方法会被 webpack compiler 调用，并且在整个编译生命周期都可以访问 compiler 对象。
使用前，需要先引入，使用时new一个实例。

### clean-webpack-plugin
删除webpack的output.path中的所有文件。
安装
```
npm install --D clean-webpack-plugin
```

使用
```
const { CleanWebpackPlugin } = require('clean-webpack-plugin');

module.exports = {
    plugins: [
        new CleanWebpackPlugin(),
    ],
};
```
### html-webpack-plugin
安装
```
npm install --D html-webpack-plugin
```

使用
```
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
    plugins: [
        new HtmlWebpackPlugin({
            // 以一个文件为模版生成新的html
            templete: './templete.html'
        }),
    ],
};
```

### mini-css-extract-plugin
抽离css文件。
安装
```
npm install --S mini-css-extract-plugin
```
css文件使用loader加载是加载到js文件内的，生产环境需要将css文件抽离出来：
```
module:{
    rules: [
        {
        test: /\.css$/,
        use: [MiniCssExtractPlugin.loader, 'css-loader']
        }
    ]
},
plugins: [
    new MiniCssExtractPlugin({
      filename: 'css/[name].css' // 抽离后的 CSS 输出路径
    })
  ],
```

### DefinePlugin
DefinePlugin是内置插件，不需要安装。用于创建全局的常量。
```
new webpack.DefinePlugin({
  constant: '"字符串"'
});
```
注意，单引号内的值是实际的常量值，这个值是一个字符串，所以有双引号。