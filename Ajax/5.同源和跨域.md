同源和跨域
===================
###域名和IP
**IP**
每个连接到Internet上的主机都会分配一个IP地址，IP地址是用来唯一标识互联网上计算机的逻辑地址，机器之间的访问就是通过IP地址来进行的。IP地址经常被写成十进制的形式，用“.”分开，如：127.0.0.1。

**域名**
在IP地址的基础上又发展出一种符号化的地址方案，来代替数字型的IP地址。每一个符号化的地址都与特定的IP地址对应。这个与网络上的数字型IP地址相对应的字符型地址，就被称为域名。域名是www.***.***(如`.com .top`等)

IP和域名之间的转换工作称为域名解析，域名解析需要由专门的域名解析服务器来完成，DNS就是进行域名解析的服务器。域名的最终指向是IP。

**整体流程**：
`输入域名----域名解析服务器（dns）解析成ip地址---建立TCP连接---发送HTTP请求---完成请求并返回信息---浏览器解析渲染`

通常情况下一个域名同一时刻只能对应一个IP地址。但是在域名服务商那里，可以把服务器群里面的多个提供相同服务的服务器IP设置一个域名可以轮询。但是同一时刻，一个域名只能解析出一个IP供你使用。这些IP可以轮流着被解析。一个IP可以绑定无数个域名，这个没有限制。

**网址**
URL是统一资源定位符（英语UniformResourceLocator的缩写）俗称为网址，网址格式为：<协议>://<域名或IP>:<端口>/<路径><?查询><#哈希>。

**端口**
网络中一台主机只有一个IP，但是一个主机可以提供多个服务，端口号就用于区分一个主机上的不同服务。http协议服务所占用的端口默认为80端口。

**host**
Hosts是一个没有扩展名的系统文件，其基本作用就是将一些常用的网址域名与其对应的IP地址建立一个关联“数据库”，当用户在浏览器中输入一个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址，一旦找到，系统会立即打开对应网页，如果没有找到，则系统再会将网址提交DNS域名解析服务器进行IP地址的解析。
作用：
1.加快域名解析。不需要经过DNS域名服务器进行IP地址的解析，加快访问速度。
2.方便有局域网用户。局域网可以分别给服务器取个容易记住的名字，然后在Hosts中建立IP映射，这样以后访问的时候，只要输入这个服务器的名字就行了。
3.屏蔽网站。可以利用Hosts把网站的域名映射到一个错误的IP或本地计算机的IP，这样就不用访问了。

###同源
两个页面地址中的协议、域名和端口号一致，则表示同源。
同源策略是浏览器对javascript施加的安全限制。同源策略主要是限制了页面最后那个的脚本从另一个源加载资源时的行为，这对于防范恶意页面是一种很好的防御机制。包括：
1.存储在浏览器中的数据，如localStroage、Cooke和IndexedDB不能通过脚本跨域访问
2.不能通过脚本操作不同域下的DOM
3.不能通过ajax请求不同域的数据

**本地跨域**
本地页面在请求本地文件时会跨域，因为本地是file协议，服务器则是http(https)协议。

###跨域
同源政策规定，AJAX 请求只能发给同源的网址，有三种方法规避这个限制。

1. JSONP
2. WebSocket
3. CORS