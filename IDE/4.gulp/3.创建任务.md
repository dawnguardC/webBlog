创建任务
===================
gulp本身不能完成任务，必须由插件来完成具体的任务。因此，除了安装gulp以外，不同的任务还需要安装不同的gulp插件模块。每安装一个插件，就必须在`gulpfile.js` 文件中通过`require()`引入该模块。

常用插件模块：
1.文件合并`gulp-concat` 2.less和sass的编译`gulp-less`/`gulp-sass` 3.js文件压缩`gulp-uglify` 4.css文件压缩`gulp-clean-css` 5.html文件压缩 `gulp-minify-html` 6.图片压缩`gulp-imagemin` 7.自动刷新`gulp-livereload`  

这些模块都可以使用npm直接下载使用：

    $ npm install gulp-**** -D

###注册任务
在gulpfile.js文件中，require引入需要的模块后，首先要注册任务，之后才可以进行任务设置。设置任务时一定要使用return进行返回，这样才可以将任务注册为异步任务。一个任务中的数据流使用管道（pipe）方法链式传递。

    //合并压缩js
    var gulp=require("gulp");
    var concat=require("gulp-concat");
    var uglify=require("gulp-uglify");
    var rename=require("gulp-rename");
    gulp.task("js",function(){
        return gulp.src("src/js/*.js")  //找到需要的文件
        .pipe(concat("dist.js"))  //文件合并
        .pipe(gulp.dest("dist/"))  //文件输出
        .pipe(uglify())  //文件压缩
        .pipe(rename("dist.min.js"))  //文件重命名
        .pipe(gulp.dest("dist/"))  //文件输出
    })
只需要`$ gulp js` 就可以运行这个任务。

###自动化

注册的任务通过插件`gulp-livereload`可以实现自动化，运行监听任务，当文件编辑之后，就能自动执行。

    var gulp=require("gulp");
    var concat=require("gulp-concat");
    var uglify=require("gulp-uglify");
    var rename=require("gulp-rename");
    var livereload=require("gulp-livereload")
    gulp.task("js",function(){
        return gulp.src("src/js/*.js")  //找到需要的文件
        .pipe(concat("dist.js"))  //文件合并
        .pipe(gulp.dest("dist/"))  //文件输出
        .pipe(uglify())  //文件压缩
        .pipe(rename("dist.min.js"))  //文件重命名
        .pipe(gulp.dest("dist/"))  //文件输出
        .pipe(livereload())  //添加监听      
    });
    gulp.task("watch",function(){
        livereload.listen;  //开启监听
        gulp.watch("src/js/*.js",["js"])  //监视js文件，绑定执行js任务
    })
注意，注册的监听任务后需要给每个被监听的任务在加管道添加监听。
